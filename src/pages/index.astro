---
// © 2025 Vlad-Stefan Harbuz <vlad@vlad.website>
// SPDX-License-Identifier: Apache-2.0

import Layout from '../layouts/Layout.astro';

let API_HOST = 'https://api.endowment.dev';
if ('ENDOWMENT_API_HOST' in process.env) {
    API_HOST = process.env.ENDOWMENT_API_HOST;
}

function getRandomEndorsementImage() {
    const prefix = "/images/endorsements/placeholder-";
    const suffix = ".jpg";
    const mids = ["a", "b", "c", "d", "e"];
    const randomMid = mids[Math.floor(Math.random() * mids.length)];
    return prefix + randomMid + suffix;
}
---

<Layout>
    <section class="pagesec" slot="hero">
        <div class="container">
            <div class="insec insec--xpad">
                <div class="intro">
                    <div class="intro-text">
                        <small>The world's first</small>
                        <h1>Open Source<br>Endowment</h1>
                        <small>
                            Truly
                            <span class="hlbox">
                                <span class="hlbox--text">
                                    sustainable funding
                                </span>
                                <span class="hlbox--main">
                                    <span class="hlbox--sm hlbox--nw"></span>
                                    <span class="hlbox--sm hlbox--ne"></span>
                                    <span class="hlbox--sm hlbox--sw"></span>
                                    <span class="hlbox--sm hlbox--se"></span>
                                </span>
                            </span>
                            for critical OSS through a community&#x2011;driven
                            endowment.
                        </small>
                        <div class="buttonset">
                            <a
                                href="#donate"
                                class="button button--colored"
                                data-track="hero-bottom-donate"
                            >Donate</a>
                            <a
                                href="#donate"
                                class="button"
                                data-track="hero-bottom-donate"
                            >Learn More</a>
                        </div>
                    </div>
                    <div class="intro-illu-container">
                        <div class="intro-illu">
                            <div class="illubox illubox--a">curl</div>
                            <div class="illubox illubox--a">mpld3</div>
                            <div class="illubox illubox--a">pandas</div>
                            <div class="illubox illubox--a">cpython</div>
                            <div class="illubox illubox--b illubox--ok">openssl</div>
                            <div class="illubox illubox--b illubox--ok">imagemagick</div>
                            <div class="illubox illubox--b">tokio</div>
                            <div class="illubox illubox--b illubox--ok">numpy</div>
                            <div class="illubox illubox--c illubox--ok">log4j</div>
                            <div class="illubox illubox--c">joda-time</div>
                            <div class="illubox illubox--c">matplotlib</div>
                            <div class="illubox illubox--c">requests</div>
                            <div class="illubox illubox--d">iced</div>
                            <div class="illubox illubox--d illubox--ok">git</div>
                            <div class="illubox illubox--d">zlib</div>
                            <div class="illubox illubox--d">xz</div>
                        </div>
                    </div>
                </div>
                <div class="kpis">
                    <div>
                        <b>2.8B</b><span>donated</h2>
                    </div>
                    <div>
                        <b>1.3K</b><span>donors</h2>
                    </div>
                    <div>
                        <b>3.5K</b><span>projects supported</h2>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec pagesec--grid">
        <div class="container">
            <div class="insec insec--xpad">
                <div class="cardset">
                    <div class="card card--big-icon">
                        <img src="/images/icons/em-sustainable.svg" alt="A leaf-shaped squiggle">
                        <div>
                            <h2>Sustainable</h2>
                            <p>
                                Provides a stable, long-term funding model, independent of the volatility of traditional
                                support.
                            </p>
                        </div>
                    </div>
                    <div class="card card--big-icon">
                        <img src="/images/icons/em-systemic.svg" alt="A building block">
                        <div>
                            <h2>Systemic</h2>
                            <p>
                                Supports the critical but underfunded projects that conventional models miss.
                            </p>
                        </div>
                    </div>
                    <div class="card card--big-icon">
                        <img src="/images/icons/em-efficient.svg" alt="A performance gauge">
                        <div>
                            <h2>Efficient</h2>
                            <p>
                                A lean, digital-first, community-led organization designed for maximum impact and
                                transparency.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec">
        <div class="container">
            <div class="insec insec--nopad-bottom insec--nopad-x">
                <h2 class="sechead">Trusted by open source creators, founders, executives and investors</h2>
            </div>
        </div>
    </section>
    <section class="pagesec">
        <div class="container">
            <div class="insec insec--nopad insec--noborder-right insec--side-squares">
                <div class="grid grid--bigfirst">
                    <figure class="grid__item endorsement">
                        <blockquote>
                            <p>
                                Open Source is a cornerstone of the tech-enabled world, operating similarly to a global
                                <a href="https://kvinogradov.com/oss-universities/">research university</a>.
                                Leveraging “OSS alumni,” this community-led endowment can provide maintainers with truly
                                sustainable funding!
                            </p>
                        </blockquote>
                        <figcaption class="donor-mini-profile">
                            <img
                                src="/images/endorsements/konstantin.webp"
                                alt="A portrait of Konstantin Vinogradov"
                                width="64"
                                height="64"
                            >
                            <div>
                                <h3>Konstantin Vinogradov</h3>
                                <i>ex General Partner at Runa Capital</i>
                            </div>
                        </figcaption>
                    </figure>
                    <figure class="grid__item endorsement">
                        <blockquote>
                            <p>
                                The Open Source Endowment is so obvious in retrospect, it’s a wonder it took so long to
                                connect the dots. What better way to permanently fund vital non-profit work? It’s high
                                time we brought the endowment model to bear on
                                <a href="https://openpath.quest/2024/the-open-source-sustainability-crisis/"
                                   >the Open Source sustainability crisis</a
                                >.
                            </p>
                        </blockquote>
                        <figcaption class="donor-mini-profile">
                            <img
                                src="/images/endorsements/chad.webp"
                                alt="A portrait of Chad Whitacre"
                                width="64"
                                height="64"
                            >
                            <div>
                                <h3>Chad Whitacre</h3>
                                <i>Head of Open Source, Sentry</i>
                            </div>
                        </figcaption>
                    </figure>
                    <figure class="grid__item endorsement">
                        <blockquote>
                            <p>
                                Open source underpins the critical infrastructure of the global tech ecosystem, and the
                                community-driven Endowment is a wonderful initiative to pursue its long-term
                                sustainability.
                            </p>
                        </blockquote>
                        <figcaption class="donor-mini-profile">
                            <img
                                src="/images/endorsements/mitchell.webp"
                                alt="A portrait of Mitchell Hashimoto"
                                width="64"
                                height="64"
                            >
                            <div>
                                <h3>Mitchell Hashimoto</h3>
                                <i>Co-founder, HashiCorp</i>
                            </div>
                        </figcaption>
                    </figure>
                    <figure class="grid__item endorsement">
                        <blockquote>
                            <p>
                                Aenean molestie nibh in turpis venenatis, nec
                                auctor est ultricies. Maecenas porta quis augue
                                eget luctus.
                            </p>
                        </blockquote>
                        <figcaption class="donor-mini-profile">
                            <img
                                src="/images/endorsements/placeholder-d.jpg"
                                alt="A portrait of Daniel Dover"
                                width="64"
                                height="64"
                            >
                            <div>
                                <h3>Daniel Dover</h3>
                                <i>CEO, Blooper</i>
                            </div>
                        </figcaption>
                    </figure>
                    <figure class="grid__item endorsement">
                        <blockquote>
                            <p>
                                Sed malesuada mauris et aliquet mollis. Nunc
                                sodales eu lacus sed viverra.
                            </p>
                        </blockquote>
                        <figcaption class="donor-mini-profile">
                            <img
                                src="/images/endorsements/placeholder-e.jpg"
                                alt="A portrait of Erin Enoch"
                                width="64"
                                height="64"
                            >
                            <div>
                                <h3>Erin Enoch</h3>
                                <i>Research Lead, Foofax</i>
                            </div>
                        </figcaption>
                    </figure>
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec">
        <div class="insec">
            <div class="container">
                <h2 class="sechead">Solving Open&nbsp;Source Sustainability</h2>
                <div class="sustainability">
                    <div class="sustainability__desc">
                        <p>
                            The modern world runs on software, and more than 95% of its code depends on open source
                            software. This critical infrastructure is built and maintained by mostly unpaid volunteers
                            contributing in whatever spare time they have.
                        </p>
                        <p>
                            Maintainer burnout and lack of funding often lead to catastrophic security incidents, as seen
                            with
                            <a href="https://en.wikipedia.org/wiki/Log4Shell" target="_blank">Log4Shell</a>,
                            the
                            <a href="https://en.wikipedia.org/wiki/XZ_Utils_backdoor" target="_blank">XZ Utils backdoor</a>
                            and
                            <a href="https://en.wikipedia.org/wiki/Heartbleed" target="_blank">Heartbleed</a>.
                            The unsustainable state of OSS financing makes the global software supply chain fragile and
                            puts our world at ever-growing risk.
                        </p>
                        <h3>Our solution: the endowment model</h3>
                        <p>
                            Successfully
                            <a href="https://en.wikipedia.org/wiki/Financial_endowment" target="_blank">implemented</a>
                            by the world's leading universities and nonprofit institutions, endowments aggregate donations
                            in a permanent fund and spend only investment returns to advance their causes. This creates a
                            stable financial foundation designed to weather economic and political volatility across
                            decades.
                        </p>
                        <p>
                            We are building the first implementation of this model for open source software, and invite you
                            to join this mission.
                        </p>
                    </div>
                    <figure>
                        <img
                            src="/images/xkcd-2347.png"
                            alt="This xkcd comic shows a Jenga-like tower of blocks, illustrating “all modern digital infrastructure”. The structure precariously rests on a small load-bearing block, titled “a project some random person in Nebraska has been thanklessly maintaining since 2003”."
                            width="300">
                        <figcaption>
                            <a href="https://xkcd.com/2347/" target="_blank">xkcd “Dependency”</a>
                        </figcaption>
                    </figure>
                </div>
                <div class="cardset cardset--tight small-text">
                    <a class="card card--row-icon card--top" href="https://openpath.quest/2024/the-open-source-sustainability-crisis/" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="#060606" d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"/></svg>
                        <span>
                            <strong>“The Open Source Sustainability Crisis”</strong><br>by Chad Whitacre
                        </span>
                    </a>
                    <a class="card card--row-icon card--top" href="https://kvinogradov.com/oss-universities/" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="#060606" d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"/></svg>
                        <span>
                            <strong>“What Open Source can learn from universities to fix its funding”</strong><br>by
                            Konstantin Vinogradov
                        </span>
                    </a>
                    <a class="card card--row-icon card--top" href="https://www.blackduck.com/resources/analyst-reports/open-source-security-risk-analysis.html" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="#060606" d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"/></svg>
                        <span>
                            <strong>“2025 Open Source Security and Risk Analysis”</strong><br>by Synopsis
                        </span>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec pagesec--dark">
        <div class="container">
            <div class="insec insec--xpad">
                <div class="squares squares--corner-dark-sw-inner"></div>
                <div class="squares squares--corner-dark-sw-outer"></div>
                <div class="squares squares--corner-dark-ne-inner"></div>
                <div class="squares squares--corner-dark-ne-outer"></div>
                <h2 class="sechead sechead--left">Next-gen Nonprofit,<br>Based on Principles</h2>
                <div class="features">
                    <div class="feature">
                        <img src="/images/icons/em-academy.svg" alt="An academy">
                        <h3>Data-Driven & SMART Goals</h3>
                        <p>
                            Data guides our goal-based strategy,
                            ensuring every donation makes a measurable difference.
                        </p>
                    </div>
                    <div class="feature">
                        <img src="/images/icons/em-globe.svg" alt="A globe">
                        <h3>Global Outlook</h3>
                        <p>
                            Supports the long-term health of the global open source supply chain, not of specific countries or
                            ecosystems.
                        </p>
                    </div>
                    <div class="feature">
                        <img src="/images/icons/em-door.svg" alt="An open door">
                        <h3>Maximum Transparency</h3>
                        <p>
                            Provides open data, public governance processes, and clear accountability in all funding
                            decisions and operations.
                        </p>
                    </div>
                    <div class="feature">
                        <img src="/images/icons/em-people.svg" alt="Two people">
                        <h3>Inclusive and Diverse Governance</h3>
                        <p>
                            Empowers the community to shape key strategic decisions with a focus on individuals over companies.
                        </p>
                    </div>
                    <div class="feature">
                        <img src="/images/icons/em-network.svg" alt="A global network">
                        <h3>Decentralized Funding</h3>
                        <p>
                            A broad funding base from diverse sources makes every contribution meaningful and
                            fosters community governance.
                        </p>
                    </div>
                    <div class="feature">
                        <img src="/images/icons/em-umbrella.svg" alt="An umbrella">
                        <h3>Neutrality</h3>
                        <p>
                            Remains independent from political or corporate influence, ensuring unbiased, mission-driven
                            funding for the public good.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec">
        <div class="container">
            <div class="insec insec--xpad">
                <h2 class="sechead">How It Works</h2>
                <div class="how-it-works">
                    <div class="how-it-works__step">
                        <div>
                            <div class="how-it-works__digit">1</div>
                            <h3>Fundraising</h3>
                            <p>
                                Individuals, companies, and foundations donate to
                                the Open Source Endowment, forming its permanent
                                principal, which is not spent.
                            </p>
                        </div>
                        <img
                            src="/images/illustrations/howto-1.svg"
                            alt="Individuals, companies and foundations donate money">
                    </div>
                    <div class="how-it-works__step">
                        <div>
                            <div class="how-it-works__digit">2</div>
                            <h3>Investing</h3>
                            <p>
                                The endowment principal is invested in a low-risk
                                portfolio that generates sustainable annual
                                returns. We target a ~5% spend rate, typical for
                                U.S. universities.
                            </p>
                        </div>
                        <img src="/images/illustrations/howto-2.svg"
                            alt="The donated money is invested">
                    </div>
                    <div class="how-it-works__step">
                        <div>
                            <div class="how-it-works__digit">3</div>
                            <h3>Grantmaking</h3>
                            <p>
                                We distribute grants based on open, data-driven
                                inputs and our model, co-developed with the
                                Endowment's Members and in consultation with the
                                open source community.
                            </p>
                        </div>
                        <img src="/images/illustrations/howto-3.svg"
                            alt="Grants are distributed">
                    </div>
                    <div class="how-it-works__step">
                        <div>
                            <div class="how-it-works__digit">4</div>
                            <h3>Monitoring</h3>
                            <p>
                                Supported projects are tracked for accountability,
                                refining strategy, and maximizing OSE's positive
                                impact. The grantmaking model is iteratively
                                improved.
                            </p>
                        </div>
                        <img src="/images/illustrations/howto-4.svg"
                            alt="The progress of grant-funded work is monitored">
                    </div>
                </div>
            </div>
        </div>
    </div>
    {true && (
    <section class="pagesec">
        <div class="container">
            <div class="insec insec--xpad">
                <h2 class="sechead">Our Team</h2>
                <div class="team-member-list">
                    <div class="team-member card">
                        <div class="team-member__head">
                            <div class="team-member__image">
                                <img src="/images/team/konstantin.webp" alt="A portrait of Konstantin">
                            </div>
                            <h3>
                                <div class="team-member__nameline">
                                    <a href="https://www.linkedin.com/in/kvinogradov/" target="_blank">Konstantin Vinogradov</a>
                                </div>
                                <em>Board Director, Chairman</em>
                            </h3>
                        </div>
                        <div class="team-member__desc">
                            <p>
                                General Partner at
                                <a href="https://runacap.com/" target="_blank">Runa Capital</a>
                                ($0.5B+ AUM), who focuses on early-stage OSS investments.
                                Previously co&#x2011;founded an endowment which grew from $50K to $600K+ in 12 months. Publishes the
                                <a href="https://runacap.com/ross-index/" target="_blank">ROSS Index</a>,
                                a quarterly data-driven rating of top open source startups.
                            </p>
                        </div>
                    </div>
                    <div class="team-member card">
                        <div class="team-member__head">
                            <div class="team-member__image">
                                <img src="/images/team/chad.webp" alt="A portrait of Chad">
                            </div>
                            <h3>
                                <a href="https://www.linkedin.com/in/chadwhitacre/" target="_blank">Chad Whitacre</a>
                                <em>Board Director, Secretary</em>
                            </h3>
                        </div>
                        <div class="team-member__desc">
                            <p>
                                Head of Open Source at application monitoring platform
                                <a href="https://sentry.io/" target="_blank">Sentry</a> (used by 4M+ developers) and the
                                leader of the
                                <a href="https://opensourcepledge.com" target="_blank">Open Source Pledge</a>,
                                a cultural initiative to get companies to pay open source maintainers.
                                Founded OSS funding pioneer Gratipay (2012–2018).
                            </p>
                        </div>
                    </div>
                    <div class="team-member card">
                        <div class="team-member__head">
                            <div class="team-member__image">
                                <img src="/images/team/maxim.webp" alt="A portrait of Maxim">
                            </div>
                            <h3>
                                <a href="https://www.linkedin.com/in/maxim/" target="_blank">Maxim Konovalov</a>
                                <em>Board Director, Treasurer</em>
                            </h3>
                        </div>
                        <div class="team-member__desc">
                            <p>
                                Co-founder and ex VP Engineering at
                                <a href="https://nginx.com" target="_blank">Nginx</a>,
                                the world's leading web server, used by 400M+ websites, acquired for ~$0.7B in 2019.
                                Former VP Engineering at
                                <a href="https://www.f5.com/" target="_blank">F5</a>.
                                Seasoned supporter of FreeBSD.
                            </p>
                        </div>
                    </div>
                    <div class="team-member card">
                        <div class="team-member__head">
                            <div class="team-member__image">
                                <img src="/images/team/jonathan.webp" alt="A portrait of Jonathan">
                            </div>
                            <h3>
                                <div class="team-member__nameline">
                                    <a href="https://www.linkedin.com/in/jonathan-starr-b04032284/" target="_blank">Jonathan Starr</a>
                                </div>
                                <em>Executive Director</em>
                            </h3>
                        </div>
                        <div class="team-member__desc">
                            <p>
                                Program Manager at
                                <a href="https://numfocus.org" target="_blank">NumFOCUS</a>,
                                a nonprofit foundation supporting scientific OSS such as
                                <a href="https://pandas.pydata.org/" target="_blank">Pandas</a>.
                                Co-Founder of
                                <a href="https://www.scios.tech/" target="_blank">SciOS</a>
                                and the
                                <a href="https://iosp.io/" target="_blank">The Institute of Open Science Practices</a>,
                                focusing on sustainable open science.
                            </p>
                        </div>
                    </div>
                    <div class="team-member card">
                        <div class="team-member__head">
                            <div class="team-member__image">
                                <img src="/images/team/amy.webp" alt="A portrait of Amy">
                            </div>
                            <h3>
                                <a href="https://www.linkedin.com/in/amy3parker/" target="_blank">Amy Parker</a>
                                <em>Advisor</em>
                            </h3>
                        </div>
                        <div class="team-member__desc">
                            <p>
                                Chief Fundraising Officer at the
                                <a href="https://openssl-foundation.org/" target="_blank">OpenSSL Foundation</a>
                                and former Director of the
                                <a href="https://wikimediaendowment.org/" target="_blank">Wikipedia Endowment</a>.
                                Served as Director of Individual Giving at the Smithsonian and the New York Public Library
                            </p>
                        </div>
                    </div>
                    <div class="team-member card">
                        <div class="team-member__head">
                            <div class="team-member__image">
                                <img src="/images/team/vlad.webp" alt="A portrait of Vlad">
                            </div>
                            <h3>
                                <a href="https://vlad.website" target="_blank">Vlad-Stefan Harbuz</a>
                                <em>Advisor</em>
                            </h3>
                        </div>
                        <div class="team-member__desc">
                            <p>
                                Maintainer of the
                                <a href="https://opensourcepledge.com" target="_blank">Open Source Pledge</a>.
                                Core developer of OSS funding service
                                <a href="https://thanks.dev" target="_blank">thanks.dev</a>.
                                Helped build software used by the Gates Foundation to allocate $1B in healthcare funding.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="mini-note">
                    <p>
                        Looking to contribute to the Open Source Endowment? We'd love to chat.
                        <a href="mailto:donors@endowment.dev" target="_blank">Contact us!</a>
                    </p>
                </div>
            </div>
        </div>
    </section>
    )}
    <section class="pagesec" id="donors">
        <div class="container">
            <div class="insec insec--xpad">
                <div class="sechead">
                    <h2>Top Donors</h2>
                    <h3>Here are some of the generous donors helping make Open Source sustainable</h3>
                </div>
                <div class="donor-list">
                    {Array.from(Array(20).keys()).map(() =>
                        <div class="donor-list__donor donor-mini-profile">
                            <img
                                src={getRandomEndorsementImage()}
                                alt="A portrait of Alina Adorno"
                                width="64"
                                height="64"
                            >
                            <div>
                                <h3>Alina Adorno</h3>
                                <i>Co-Founder, Enorma</i>
                            </div>
                        </div>
                    )}
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec" id="donate">
        <div class="container">
            <div class="insec insec--xpad">
                <div class="sechead">
                    <h2>Donation</h2>
                    <h3>
                        Donate now to make an ever-lasting impact on the open source ecosystem<br>
                    </h3>
                </div>
                <div class="cardset cardset--column">
                    <div class="detailed-form-extras">
                        <div class="card card--alert card--row-icon checkout-alert" hidden>
                            <img src="/images/icons/fa-triangle-exclamation-solid.svg">
                            <p></p>
                        </div>
                        <noscript>
                            <div class="card card--info card--row-icon">
                                <img src="/images/icons/fa-triangle-exclamation-solid.svg">
                                <p>
                                    Our payment process requires Javascript — but you can contact us at
                                    <a href="mailto:donors@endowment.dev" target="_blank">donors@endowment.dev</a>
                                    to arrange your donation separately.
                                </p>
                            </div>
                        </noscript>
                    </div>
                    <div class="detailed-form checkout">
                        <div class="detailed-form__sidebar">
                            <div class="detailed-form__section">
                                <input type="radio" name="method" value="stripe" id="method-stripe"
                                    checked="checked">
                                <label for="method-stripe">
                                    <svg role="img" aria-label="A bank card" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M18.5 3C19.3284 3 20 3.67157 20 4.5V15.5C20 16.3284 19.3284 17 18.5 17H1.5C0.671573 17 0 16.3284 0 15.5V4.5C0 3.67157 0.671573 3 1.5 3H18.5ZM12 12.5C11.5375 12.5 11.1574 12.6171 10.8555 12.8184C10.5567 13.0176 10.3636 13.2796 10.2402 13.5264C10.1178 13.7712 10.0592 14.0102 10.0303 14.1836C10.0156 14.2714 10.0078 14.3461 10.0039 14.4004C10.002 14.4274 10.0015 14.45 10.001 14.4668C10.0007 14.475 10.0001 14.4818 10 14.4873V14.499L10.5 14.5H10C10 14.7761 10.2239 15 10.5 15C10.7761 15 11 14.7761 11 14.5C11.0002 14.4949 11.001 14.4845 11.002 14.4707C11.0039 14.443 11.0079 14.4001 11.0166 14.3477C11.0346 14.2398 11.0697 14.1037 11.1348 13.9736C11.1989 13.8454 11.2871 13.7324 11.4102 13.6504C11.5301 13.5704 11.7125 13.5 12 13.5C12.2875 13.5 12.4699 13.5704 12.5898 13.6504C12.7129 13.7324 12.8011 13.8454 12.8652 13.9736C12.9303 14.1037 12.9654 14.2398 12.9834 14.3477C12.9921 14.4001 12.9961 14.443 12.998 14.4707C12.999 14.4845 12.9998 14.4949 13 14.5C13 14.7761 13.2239 15 13.5 15C13.7417 15 13.9437 14.8286 13.9902 14.6006L14 14.5049V14.5059C14 14.5044 14.0005 14.4991 14.001 14.4922C14.002 14.4781 14.004 14.4548 14.0088 14.4258C14.019 14.3648 14.0385 14.2912 14.0723 14.2236C14.1051 14.1579 14.1465 14.1074 14.1992 14.0723C14.2488 14.0392 14.3375 14 14.5 14C14.6625 14 14.7512 14.0392 14.8008 14.0723C14.8535 14.1074 14.8949 14.1579 14.9277 14.2236C14.9615 14.2912 14.981 14.3648 14.9912 14.4258C14.996 14.4548 14.998 14.4781 14.999 14.4922C14.9995 14.4984 14.9999 14.5031 15 14.5049L15.0098 14.6006C15.0563 14.8286 15.2583 15 15.5 15H16.5C16.7761 15 17 14.7761 17 14.5C17 14.2239 16.7761 14 16.5 14H15.9121C15.8889 13.9288 15.8605 13.8529 15.8223 13.7764C15.7301 13.5921 15.584 13.3926 15.3555 13.2402C15.1238 13.0858 14.8375 13 14.5 13C14.1625 13 13.8762 13.0858 13.6445 13.2402C13.6301 13.2499 13.6173 13.2615 13.6035 13.2715C13.4883 13.1087 13.3406 12.9491 13.1445 12.8184C12.8426 12.6171 12.4625 12.5 12 12.5ZM1.5 7C1.22386 7 1 7.22386 1 7.5V8.5C1 8.77614 1.22386 9 1.5 9H18.5C18.7761 9 19 8.77614 19 8.5V7.5C19 7.22386 18.7761 7 18.5 7H1.5Z" fill="#bbbdbf"/>
                                    </svg>
                                    Card
                                </label>
                            </div>
                            <div class="detailed-form__section">
                                <input type="radio" name="method" value="bank" id="method-bank">
                                <label for="method-bank">
                                    <svg role="img" aria-label="A bank" width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5 17.9998C19.7761 17.9998 20 18.2236 20 18.4998C20 18.7759 19.7761 18.9998 19.5 18.9998H0.5C0.223858 18.9998 0 18.7759 0 18.4998C0 18.2236 0.223858 17.9998 0.5 17.9998H19.5ZM3.5 6.99976C3.77614 6.99976 4 7.22362 4 7.49976C4 7.7759 3.77614 7.99976 3.5 7.99976H3V15.9998H3.5C3.77614 15.9998 4 16.2236 4 16.4998C4 16.7759 3.77614 16.9998 3.5 16.9998H1.5C1.22386 16.9998 1 16.7759 1 16.4998C1 16.2236 1.22386 15.9998 1.5 15.9998H2V7.99976H1.5C1.22386 7.99976 1 7.7759 1 7.49976C1 7.22362 1.22386 6.99976 1.5 6.99976H3.5ZM8.5 6.99976C8.77614 6.99976 9 7.22362 9 7.49976C9 7.7759 8.77614 7.99976 8.5 7.99976H8V15.9998H8.5C8.77614 15.9998 9 16.2236 9 16.4998C9 16.7759 8.77614 16.9998 8.5 16.9998H6.5C6.22386 16.9998 6 16.7759 6 16.4998C6 16.2236 6.22386 15.9998 6.5 15.9998H7V7.99976H6.5C6.22386 7.99976 6 7.7759 6 7.49976C6 7.22362 6.22386 6.99976 6.5 6.99976H8.5ZM13.5 6.99976C13.7761 6.99976 14 7.22362 14 7.49976C14 7.7759 13.7761 7.99976 13.5 7.99976H13V15.9998H13.5C13.7761 15.9998 14 16.2236 14 16.4998C14 16.7759 13.7761 16.9998 13.5 16.9998H11.5C11.2239 16.9998 11 16.7759 11 16.4998C11 16.2236 11.2239 15.9998 11.5 15.9998H12V7.99976H11.5C11.2239 7.99976 11 7.7759 11 7.49976C11 7.22362 11.2239 6.99976 11.5 6.99976H13.5ZM18.5 6.99976C18.7761 6.99976 19 7.22362 19 7.49976C19 7.7759 18.7761 7.99976 18.5 7.99976H18V15.9998H18.5C18.7761 15.9998 19 16.2236 19 16.4998C19 16.7759 18.7761 16.9998 18.5 16.9998H16.5C16.2239 16.9998 16 16.7759 16 16.4998C16 16.2236 16.2239 15.9998 16.5 15.9998H17V7.99976H16.5C16.2239 7.99976 16 7.7759 16 7.49976C16 7.22362 16.2239 6.99976 16.5 6.99976H18.5ZM9.88086 0.0144074C9.9981 -0.0143665 10.1231 -3.93744e-05 10.2324 0.0573761L19.7324 5.05738C19.9359 5.16447 20.0405 5.39665 19.9854 5.61988C19.9301 5.84301 19.7299 5.99976 19.5 5.99976H0.5C0.270117 5.99976 0.0698701 5.84301 0.0146484 5.61988C-0.04051 5.39665 0.0640959 5.16447 0.267578 5.05738L9.76758 0.0573761L9.88086 0.0144074ZM2.52344 4.99976H17.4766L10 1.06421L2.52344 4.99976Z" fill="#bbbdbf"/>
                                    </svg>
                                    Bank transfer
                                </label>
                            </div>
                        </div>
                        <div class="detailed-form__body">
                            <form
                                class="form form--big"
                                action={API_HOST + "/stripe-checkout-session"}
                                method="POST"
                            >
                                <div class="form-control">
                                    <label for="donor-email">Email</label>
                                    <input type="email" name="email" id="donor-email">
                                </div>
                                <div class="form-control">
                                    <label for="donor-name">Name</label>
                                    <input type="text" name="name" id="donor-name">
                                </div>
                                <div class="form-control-group">
                                    <label>
                                        Donation amount
                                        <small>Give $1,000+/year to become a Member</small>
                                    </label>
                                    <div class="form-control">
                                        <div class="input-wrapper input-wrapper--large input-wrapper--usd">
                                            <input
                                                class="input--large"
                                                type="text"
                                                name="amount"
                                                placeholder="100"
                                                value="100">
                                        </div>
                                    </div>
                                    <div class="form-control-set">
                                        <button
                                            type="button"
                                            class="button button--small checkout__preset-amount"
                                            data-amount="100"
                                        >$100</button>
                                        <button
                                            type="button"
                                            class="button button--small checkout__preset-amount"
                                            data-amount="500"
                                        >$500</button>
                                        <button
                                            type="button"
                                            class="button button--small checkout__preset-amount"
                                            data-amount="1000"
                                        >$1000</button>
                                        <button
                                            type="button"
                                            class="button button--small checkout__preset-amount"
                                            data-amount="2000"
                                        >$2000</button>
                                    </div>
                                </div>
                                <div class="form-control checkout__trigger-stripe">
                                    <button type="button" class="button button--block button--colored" disabled>
                                        Donate via Stripe
                                    </button>
                                </div>
                                <div class="form-control checkout__trigger-bank">
                                    <button type="button" class="button button--block button--colored" disabled>
                                        Show bank details for a donation
                                    </button>
                                </div>
                                <div class="small-text">
                                    For US donors: 501(c)(3) status is pending. Current donations are not tax-deductible,
                                    but would be if 501(c)(3) status is approved by the IRS.
                                </div>
                                <div class="checkout__bank-details"></div>
                                <div class="checkout__bank-finish" hidden>
                                    <a
                                        href="/thank-you"
                                        type="submit"
                                        class="button button--block"
                                        data-track="checkout-bank-finish"
                                    >I've made my transfer</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="pagesec pagesec--dark">
        <div class="container">
            <div class="insec insec--xpad big-cta">
                <div>
                    <h2>Sustainable, systemic, efficient</h2>
                    <h3>Donate now to make an ever-lasting impact on the open source ecosystem</h3>
                    <a
                        href="#donate"
                        class="button button--colored"
                        data-track="big-cta-donate"
                    >Donate</a>
                </div>
            </div>
        </div>
    </section>
</Layout>

<style>
    .sustainability {
        display: flex;
        align-items: center;
        gap: 4rem;
        padding: 2rem;
        border: 1px solid var(--color-section-border);
        h3 {
            font-weight: bold;
            margin-top: 2rem;
        }
        .sustainability__desc {
            flex: 1;
        }
        figure {
            flex-basis: 16rem;
            margin: 0;
            /* Visually compensate for caption */
            margin-bottom: -1rem;
            figcaption {
                font-size: 0.8rem;
            }
        }
        @media (max-width: 800px) {
            flex-direction: column;
            gap: 2rem;
            border: 0;
            padding: 0;
            figure {
                flex-basis: auto;
            }
        }
        & + .cardset {
            margin-top: 2rem;
        }
    }
    .roadmap {
        /*
            NOTE: This class is not currently used but should be used again in the future. Feel free to delete if enough
            time passes and it is still unused.
            — vladh, 08 Dec 2025
        */
        .roadmap-item {
            position: relative;
            padding-bottom: 2rem;
            padding-left: 3rem;
            h3 {
                margin-bottom: 0.5rem;
            }
            ul {
                margin: 0;
                li {
                    margin: 0;
                }
            }
            &:before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                display: block;
                height: 1.5rem;
                width: 1.5rem;
                background: var(--color-secondary-bright);
                border-radius: 100%;
            }
            &:after {
                content: '';
                position: absolute;
                top: 1rem;
                left: 0.75rem;
                bottom: -0.5rem;
                transform: translateX(-50%);
                display: block;
                width: 0.3rem;
                background: var(--color-secondary-bright);
            }
            &:last-child:after {
                display: none;
            }
        }
    }
    .features {
        display: grid;
        gap: 2rem;
        grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr));
        .feature {
            background: var(--color-bg-ash);
            box-shadow: 0 0 20px 10px var(--color-bg-ash);
            h3 {
                margin: 0.5rem 0;
                font-weight: bold;
            }
            p {
                color: var(--color-text-light-faded);
            }
        }
    }
    .how-it-works {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        .how-it-works__step {
            display: flex;
            gap: 2rem;
            align-items: center;
            @media (max-width: 1000px) {
                flex-direction: column;
                gap: 1rem;
            }
            .how-it-works__digit {
                font-size: 4rem;
                font-family: var(--font-family-serif);
                line-height: 1;
                color: var(--color-secondary);
            }
            h3 {
                margin: 0;
                margin-bottom: 1rem;
                font-size: 1.8rem;
            }
        }
    }
    .donor-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(12rem, 1fr));
        gap: 1.0rem;
        .donor-list__donor {
            border: 1px solid var(--color-section-border);
            padding: 0.5rem;
        }
    }
    .checkout {
        .checkout__trigger-bank {
            display: none;
        }
        .checkout__bank-details {
            display: none;
            padding-top: 1rem;
            border-top: 1px solid var(--color-input-border);
        }
        .checkout__bank-finish {
            display: none;
        }
        &:has(input[name="method"][value="bank"]:checked) {
            .checkout__trigger-stripe {
                display: none;
            }
            .checkout__trigger-bank {
                display: block;
            }
            .checkout__bank-details {
                display: block;
                &:empty {
                    display: none;
                }
            }
            .checkout__bank-finish {
                display: block;
            }
        }
    }
</style>

<script define:vars={{ API_HOST }}>
    function isValidEmail(email) {
        return email && email.includes('@') && email.length >= 'a@a.aa'.length;
    }

    function showCheckoutMessage(checkoutMessage) {
        const $$checkoutAlert = document.querySelectorAll('.checkout-alert');
        $$checkoutAlert.forEach(($checkoutAlert) => {
            const $checkoutAlertText = $checkoutAlert.querySelector('p');
            $checkoutAlert.hidden = false;
            $checkoutAlertText.textContent = checkoutMessage;
        });
    }

    function hideCheckoutMessage() {
        const $$checkoutAlert = document.querySelectorAll('.checkout-alert');
        $$checkoutAlert.forEach(($checkoutAlert) => {
            $checkoutAlert.hidden = true;
        });
    }

    async function getBankDetails($form, $checkoutBankDetails, $checkoutBankFinish) {
        const formData = new FormData($form);
        if (!isValidEmail(formData.get('email'))) {
            return showCheckoutMessage("Please enter an email address");
        }
        const params = new URLSearchParams(formData);
        try {
            const res = await fetch(API_HOST + '/bank-details', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
                },
                body: params,
            });
            if (res.status != 200) {
                throw new Error(`Got status code ${res.status}`);
            }
            const html = await res.text();
            $checkoutBankDetails.innerHTML = html;
            $checkoutBankFinish.hidden = false;
            hideCheckoutMessage();
        } catch (err) {
            showCheckoutMessage("Could not record donation attempt. Please contact us.");
        }
    }

    const $$checkout = document.querySelectorAll('.checkout');
    $$checkout.forEach(($checkout) => {
        const $form = $checkout.querySelector('form');
        const $checkoutAmount = $checkout.querySelector('input[name="amount"]');
        const $checkoutPresetAmounts = $checkout.querySelectorAll('.checkout__preset-amount');
        const $checkoutStripeButton = $checkout.querySelector('.checkout__trigger-stripe button');
        const $checkoutBankButton = $checkout.querySelector('.checkout__trigger-bank button');
        const $checkoutBankDetails = $checkout.querySelector('.checkout__bank-details');
        const $checkoutBankFinish = $checkout.querySelector('.checkout__bank-finish');
        $checkoutPresetAmounts.forEach(($checkoutPresetAmount) => {
            $checkoutPresetAmount.addEventListener('click', function() {
                $checkoutAmount.value = this.dataset.amount;
            });
        });
        $checkoutBankButton.addEventListener('click', () => {
            try {
                window.op('track', 'checkout-bank-trigger');
            } catch (e) {
                console.error('Failed to track checkout-bank-trigger');
            }
            getBankDetails($form, $checkoutBankDetails, $checkoutBankFinish);
        });
        $checkoutStripeButton.addEventListener('click', () => {
            try {
                window.op('track', 'checkout-stripe-trigger');
            } catch (e) {
                console.error('Failed to track checkout-stripe-trigger');
            }
            $form.submit();
        });
    });

    const urlParams = new URLSearchParams(window.location.search);
    const checkoutMessage = urlParams.get('checkoutMessage');
    if (checkoutMessage) {
        showCheckoutMessage(checkoutMessage);
    }

    const $donorEmail = document.getElementById('donor-email');
    const $donorName = document.getElementById('donor-name');

    function identify() {
        window.op('identify', {
            profileId: $donorEmail.value,
            email: $donorEmail.value,
            lastName: $donorName.value,
        });
    }

    $donorEmail.addEventListener('change', identify);
    $donorName.addEventListener('change', identify);
</script>
